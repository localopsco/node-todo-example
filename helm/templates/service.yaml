apiVersion: v1
kind: Service
metadata:
  name: be-service
spec:
  type: {{.Values.be.service.type}}
  selector:
    app: be-template
  ports:
    - protocol: TCP
      port: {{.Values.be.service.port}}
      targetPort: {{.Values.be.service.targetPort}}

---
apiVersion: v1
kind: Service
metadata:
  name: postgres-service
spec:
  selector:
    app: postgres-template
  ports:
    - protocol: TCP
      port: 5432

---
apiVersion: v1
kind: Service
metadata:
  name: gateway-service
spec:
  type: {{.Values.gateway.service.type}}
  selector:
    app: gateway-template
  ports:
    - protocol: TCP
      port: {{.Values.gateway.service.port}}
      targetPort: {{.Values.gateway.service.targetPort}}

---
apiVersion: v1
kind: Service
metadata:
  name: fe-service
spec:
  type: {{.Values.fe.service.type}}
  selector:
    app: fe-template
  ports:
    - protocol: TCP
      port: {{.Values.fe.service.port}}
      targetPort: {{.Values.fe.service.targetPort}}

---

